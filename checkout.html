<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Checkout | Paryavaran</title>
<style>
body {
  font-family: 'Segoe UI', sans-serif;
  background: #f4f9f4;
  margin: 0;
  padding: 0;
}
.container {
  max-width: 500px;
  margin: 3rem auto;
  background: #fff;
  padding: 2rem;
  border-radius: 10px;
  box-shadow: 0 0 15px rgba(0,0,0,0.1);
}
h2 {
  text-align: center;
  color: #3b8a3e;
  margin-bottom: 2rem;
}
label {
  display: block;
  margin-bottom: 0.5rem;
  font-weight: bold;
}
input[type="text"], input[type="email"], input[type="tel"] {
  width: 100%;
  padding: 0.6rem;
  margin-bottom: 1.5rem;
  border: 1px solid #ccc;
  border-radius: 6px;
  font-size: 1rem;
}
.payment-option {
  display: flex;
  align-items: center;
  margin-bottom: 1rem;
  gap: 0.5rem;
  font-weight: normal;
}
#confirm-order {
  width: 100%;
  padding: 0.8rem;
  border: none;
  border-radius: 6px;
  background: #3b8a3e;
  color: #fff;
  font-size: 1rem;
  cursor: pointer;
  margin-top: 1rem;
  transition: 0.3s;
}
#confirm-order:hover {
  background: #1b5e20;
}
</style>
</head>
<body>

<div class="container">
  <h2>Checkout</h2>
  <form id="checkout-form">
    <label for="name">Full Name</label>
    <input type="text" id="name" required placeholder="Enter your name">

    <label for="email">Email</label>
    <input type="email" id="email" required placeholder="Enter your email">

    <label for="phone">Phone Number</label>
    <input type="tel" id="phone" required placeholder="Enter your phone number">

    <h3>Select Payment Method</h3>
    <label class="payment-option"><input type="radio" name="payment" value="COD" checked> Cash on Delivery</label>
    <label class="payment-option"><input type="radio" name="payment" value="Online"> Online Payment</label>

    <button type="submit" id="confirm-order">Confirm Order</button>
  </form>
</div>

<script>
let cart = JSON.parse(localStorage.getItem('cart')) || [];

document.getElementById('checkout-form').addEventListener('submit', function(e){
  e.preventDefault();

  if(cart.length === 0){
    alert("Your cart is empty!");
    window.location.href = 'index.html';
    return;
  }

  const name = document.getElementById('name').value.trim();
  const email = document.getElementById('email').value.trim();
  const phone = document.getElementById('phone').value.trim();
  const payment = document.querySelector('input[name="payment"]:checked').value;

  if(!name || !email || !phone){
    alert("Please fill all details!");
    return;
  }

  let orders = JSON.parse(localStorage.getItem('orders')) || [];
  orders.push({
    customer: {name, email, phone},
    payment: payment,
    items: cart,
    total: cart.reduce((sum, item) => sum + item.price, 0),
    date: new Date().toLocaleString()
  });
  localStorage.setItem('orders', JSON.stringify(orders));

  cart = [];
  localStorage.setItem('cart', JSON.stringify(cart));

  alert(`âœ… Your order has been placed successfully with ${payment}!`);
  window.location.href = 'order-success.html';
});
</script>

</body>
</html>
